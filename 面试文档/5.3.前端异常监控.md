## 错误监控
1. try catch 来捕获异常，如果时异步里面的错误时捕获不了的
2. react 提供了componentDidCatch 非常简单的来捕获异常
3. Vue 提供了一个errorHandler 来捕获异常
4. window.onerror 来捕获异常
```javascript
window.onerror = (col, error, msg, row, url) => {
  console.log({col, error, msg, row, url});
};
setTimeout(() => {
  undefined.map(v => v);
}, 1000);
window.addEventListener('error', (e) => {
  console.log(e);
}, true);


// 捕获未 catch 的 promise 错误
window.addEventListener("unhandledrejection", e => {
  e.preventDefault();
  console.log(e);
});
Promise.reject('promiseError');
```
> 1. 相关的js文件上加上Access-Control-Allow-Origin:*的response header
> 2. 引用相关的js文件时加上crossorigin属性

## [腾讯三面：说说前端监控平台/监控SDK的架构设计和难点亮点？](https://juejin.cn/post/7108660942686126093)
![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/789a3cbec5fe4c91a95ca9644d369cf2~tplv-k3u1fbpfcp-zoom-in-crop-mark:3780:0:0:0.awebp?)